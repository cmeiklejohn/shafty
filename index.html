<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Shafty by cmeiklejohn</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  </head>
  <body>
    <div class="wrapper">
      <header>
        <h1>Shafty</h1>
        <p>ClojureScript functional reactive programming library.</p>

        <p class="view"><a href="https://github.com/cmeiklejohn/shafty">View the Project on GitHub <small>cmeiklejohn/shafty</small></a></p>


        <ul>
          <li><a href="https://github.com/cmeiklejohn/shafty/zipball/master">Download <strong>ZIP File</strong></a></li>
          <li><a href="https://github.com/cmeiklejohn/shafty/tarball/master">Download <strong>TAR Ball</strong></a></li>
          <li><a href="https://github.com/cmeiklejohn/shafty">View On <strong>GitHub</strong></a></li>
        </ul>
      </header>
      <section>
        <h1>shafty</h1>

<p>ClojureScript functional reactive programming library inspired by <a href="http://www.flapjax-lang.com/">Flapjax</a>.  Shafty provides the core abstractions provided by Flapjax for dataflow programming with reactive values, however does not provide the DOM manipulation abstractions provided by Flapjax.  </p>

<h2>Disclaimer</h2>

<p>Shafty is currently under development and the API is subject to change.</p>

<p>Get in touch if you are interested in helping out.</p>

<h2>Motivation</h2>

<p>Shafty aims to bring a native implementation of composable behaviours and event streams to ClojureScript as a micro-library which can be used to build larger reactive applications.  The long-term goal is to provide a Clojure implementation which can be used in both server-side and client-side applications.</p>

<h2>Concepts</h2>

<h3>Events</h3>

<p>Events represent time-varying functions which have a finite set of
occurences over time.</p>

<h3>Behaviours</h3>

<p>Behaviours are time-varying functions which constantly have a value.
Derive a behaviour from an event, or generate a receiver to watch a
particular DOM element, such as an input field.</p>

<h2>API Reference</h2>

<p>As Shafty is heavily inspired by Flapjax, provided below is an API reference outlining which parts of the Flapjax API have been implemented and what the equivalent function name is in Shafty.  Some of the functions have similar mappings leveraging Clojure's protocols.</p>

<p>The combinators below appear in the order of the appearance of each in the Flapjax implementation.</p>

<table>
<tr>
<th>F.Event</th>
<th>shafty.core.Event</th>
<th>F.Behavior</th>
<th>shafty.core.Behaviour</th>
</tr>
<tr>
<td>sendEvent</td>
<td>send!</td>
<td>startsWith</td>
<td></td>
</tr>
<tr>
<td>mergeE</td>
<td>merge!</td>
<td>valueNow</td>
<td></td>
</tr>
<tr>
<td>constantE</td>
<td>constant!</td>
<td>changes</td>
<td></td>
</tr>
<tr>
<td>bindE</td>
<td>bind!</td>
<td>switchB</td>
<td></td>
</tr>
<tr>
<td>mapE</td>
<td>map!</td>
<td>timerB</td>
<td>held-timer!</td>
</tr>
<tr>
<td>notE</td>
<td>not!</td>
<td>delayB</td>
<td></td>
</tr>
<tr>
<td>filterE</td>
<td>filter!</td>
<td>sendBehavior</td>
<td></td>
</tr>
<tr>
<td>onceE</td>
<td>once!</td>
<td>liftB</td>
<td></td>
</tr>
<tr>
<td>skipFirstE</td>
<td>skip-first!</td>
<td>notB</td>
<td></td>
</tr>
<tr>
<td>collectE</td>
<td>collect!</td>
<td>blindB</td>
<td></td>
</tr>
<tr>
<td>switchE</td>
<td></td>
<td>calmB</td>
<td></td>
</tr>
<tr>
<td>delayE</td>
<td>delay!</td>
<td></td>
<td></td>
</tr>
<tr>
<td>snapshotE</td>
<td>snapshot!</td>
<td></td>
<td></td>
</tr>
<tr>
<td>filterRepeatsE</td>
<td>filter-repeats!</td>
<td></td>
<td></td>
</tr>
<tr>
<td>calmE</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>blindE</td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>timerE</td>
<td>timer!</td>
<td></td>
<td></td>
</tr>
</table><h2>TODO</h2>

<ul>
<li>Do not relift on same pulse.</li>
<li>Creation of behaviour generates a new event which updates behaviour.</li>
<li>Remove outlets.</li>
<li>Add rest of TODOs from notes.</li>
<li>Replace set! calls if possible to add better clj compatibility.</li>
<li>Look into possibility of persistent events or behaviours.</li>
<li>Should update-fn return pulse explicitly or implicitly?</li>
<li>Extract priority-map.</li>
<li>Revisit listeners.</li>
<li>When sink is removed/added; recompute dependency tree.</li>
</ul><h2>References</h2>

<ul>
<li>Elliott, <a href="http://dl.acm.org/citation.cfm?id=1596643"><em>Push-Pull Functional Reactive Programming</em></a>
</li>
<li>Meyerovich, <a href="http://www.cs.brown.edu/research/pubs/theses/ugrad/2007/lmeyerov.pdf"><em>Flapjax: Functional Reactive Web Programming</em></a>
</li>
<li>Meyerovich, Guha, Baskin, Cooper, Greenberg, Bromfield,  Krishnamurthi, <a href="http://dl.acm.org/citation.cfm?id=1640091"><em>Flapjax: A Programming Language for Ajax Applications</em></a>
</li>
</ul><h2>The Name</h2>

<ul>
<li><a href="http://www.youtube.com/watch?v=AZO2_u0jmZk">Shafty, Island Tour, '98, Providence, RI.</a></li>
</ul><h2>License</h2>

<p>Copyright (C) 2012 Christopher Meiklejohn.</p>

<p>Distributed under the Eclipse Public License, the same as Clojure.</p>
      </section>
      <footer>
        <p>This project is maintained by <a href="https://github.com/cmeiklejohn">cmeiklejohn</a></p>
        <p><small>Hosted on GitHub Pages &mdash; Theme by <a href="https://github.com/orderedlist">orderedlist</a></small></p>
      </footer>
    </div>
    <script src="javascripts/scale.fix.js"></script>
    
  </body>
</html>